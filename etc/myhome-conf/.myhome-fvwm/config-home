#######################
# ChenBK at 20131020 02:16
#
# FVWM config setup


####
#  全局变量
#######
# 路径变量
SetEnv fvwm_img $[FVWM_USERDIR]/images
SetEnv fvwm_icon $[FVWM_USERDIR]/icons
SetEnv fvwm_script $[FVWM_USERDIR]/script.d
SetEnv fvwm_wallpapers $[FVWM_USERDIR]/wallpapers
# SetEnv fvwm-img $[FVWM_USERDIR]/.fvwm/images
# 默认程序变量
SetEnv FvwmBrowser /usr/bin/firefox


####
# 图片路径
#######
ImagePath +:/usr/share:/usr/share/icons/locolor/32x32/apps/:/usr/share/icons/locolor/16x16/apps:/usr/share/icons/gnome/24x24/apps:/usr/share/icons/gnome/24x24/actions/usr/share/icons/gnome/24x24/status:/usr/share/icons/gnome/16x16/actions:/usr/share/icons:/usr/share/pixmaps:/usr/share/icons/hicolor/24x24/apps:/usr/share/icos/hicolor/48x48/apps:$[fvwm_icon]:$[fvwm_wallpapers]


####
# 虚拟桌面个数
######
DesktopSize 3x3
DesktopName 0 主桌面
DesktopName 1 任务桌面
DesktopName 2 休闲桌面
EdgeScroll 100 100
EdgeResistance 500 500
# 自动滚屏 1-开启 0-禁用
EdgeThickness 1     

####
# 桌面页配置
######
*FvwmPager: Rows 3
*FvwmPager: Columns 1
*FvwmPagerBack #908090
*FvwmPagerFore #484048
*FvwmPager: Font "StringEncoding=UTF-8:xft:Droid Sans Fallback:pixelsize=10:antialias=True"
*FvwmPagerHilight #cab3ca
*FvwmPagerLabel 0 主桌面
*FvwmPagerLabel 1 任务桌面
*FvwmPagerLabel 2 休闲桌面
*FvwmPager: SmallFont "StringEncoding=UTF-8:xft:Droid Sans Fallback:pixelsize=10:antialias=True"
*FvwmPagerBalloons   All
*FvwmPagerBalloonBack Yellow
*FvwmPagerBalloonFore Black
*FvwmPagerBalloonFont "StringEncoding=UTF-8:xft:Droid Sans Fallback:pixelsize=10:antialias=True"
*FvwmPagerBalloonYOffset +2
*FvwmPagerBalloonBorderWidth 1
*FvwmPagerBalloonBorderColor Black



####
# 鼠标获得焦点
######
ClickTime 350
MoveThreshold 3
Style * SloppyFocus, MouseFocusClickRaises


####
# 默认桌面环境
######
EwmhBaseStruts 0 0 0 50
IgnoreModifiers L25


####
# 全局样式定义
######
Style * FocusFollowsMouse
Style * TitleCascadePlacement, GrabFocusOff
Style "Fvwm*" NoTitle, Sticky, WindowListSkip
Style "Fvwm*" BorderWidth 2, CirculateSkipIcon, CirculateSkip
Style "FvwmPager" StaysOnTop
Style "MainPanel" StaysOnTop
Style "PagerPanel" StaysOnTop
Style "FvwmBanner" StaysOnTop
Style "FvwmButtons" Icon toolbox.xpm, ClickToFocus
Style * Font "StringEncoding=UTF-8:xft:Droid Sans Fallback:pixelsize=12:antialias=True"
Style * NoPPosition, ResizeOpaque
OpaqueMoveSize -1
Emulate MWM
HideGeometryWindow Never
SnapAttraction 5 SameType Screen
SnapGrid 3 3
XorValue 55555
Style * DecorateTransient, DontRaiseTransient
Style * DontLowerTransient, StackTransientParent
Style * GrabFocusTransientOff
Style * WindowShadeSteps 20, WindowShadeScrolls
SetAnimation 10 -.01 0 .01 .03 .08 .3 .45 .6 .75 .85 .90 .94 .97 .99 1.0
Style * MwmDecor, SlipperyIcon
Style * IconBox screen w 15 15 -165 -15, IconGrid 3 3, IconFill right top 




####
# 单个程序样式定义
######
Style "*" Icon 48x48/unknown.xpm
Style "*term" Icon 48x48/xterm.png, TitleAtLeft, NoActiveIconOverride, \
	MiniIcon mini/xterm.png
Style "*Chrome" NoTitle, NoActiveIconOverride
Style "Firefox" Icon 48x48/firefox.png NoActiveIconOveride, \
	MinIcon mini/firefox.png




####
# 程序运行函数
#######
DestroyFunc FvwmXTerm
AddToFunc FvwmXTerm
+ I Exec exec uxterm



####
# 启动\初始化\重新启动\关闭 函数
######
DestroyFunc StartFunction
AddToFunc StartFunction
+ I Module FvwmTaskBar
# + I Module FvwmPager 0 2
+ I Module FvwmButtons MainPanel


DestroyFunc InitFunction
AddToFunc InitFunction
# + I Exec exec xscreensaver
# + I Exec exec fvwm-root -r ~/.fvwm/wallpapers/1.png
# + I Exec exec fbpanel
+ I Exec exec pcmanfm --desktop
# + I Exec exec xloadimage -onroot -fullscreen $[fvwm_wallpapers]/1.png
+ I Exec exec conky
+ I Exec exec fcitx
+ I Exec exec xrdb ~/.Xresources

DestroyFunc RestartFunction
AddToFunc RestartFunction
+ I Nop


DestroyFunc ExitFunction
AddToFunc ExitFunction
+ I All (fbpanel) Close
+ I All (pcmanfm) Close
+ I All (conky) Close
+ I All (fcitx) Close

####
# 快捷键绑定
######
Key F1 A A Module FuncMenu
Key F3 A A Module FvwmConsole -terminal uxterm -geometry 50x6+45+450 \
	-bg gold -fg midnightblue
# Alt+Ctrl+n 标记n号窗回,Ctrl+n回到n号标记的窗口
Key 0 WI MC Key 0 A C WindowId $[w.id] WarpToWindow 50 50
Key 1 WI MC Key 1 A C WindowId $[w.id] WarpToWindow 50 50
Key 2 WI MC Key 2 A C WindowId $[w.id] WarpToWindow 50 50
Key 3 WI MC Key 3 A C WindowId $[w.id] WarpToWindow 50 50
Key 4 WI MC Key 4 A C WindowId $[w.id] WarpToWindow 50 50
Key 5 WI MC Key 5 A C WindowId $[w.id] WarpToWindow 50 50
Key 6 WI MC Key 6 A C WindowId $[w.id] WarpToWindow 50 50
Key 7 WI MC Key 7 A C WindowId $[w.id] WarpToWindow 50 50
Key 8 WI MC Key 8 A C WindowId $[w.id] WarpToWindow 50 50
Key 9 WI MC Key 9 A C WindowId $[w.id] WarpToWindow 50 50


###### Start_1  Ctrl+Shift+n 标记n号窗回,Alt+n回到n号标记的窗口
#Key 0 WI SC State 0
#Key 1 WI SC State 1
#Key 2 WI SC State 2
#Key 3 WI SC State 3
#Key 4 WI SC State 4
#Key 5 WI SC State 5
#Key 6 WI SC State 6
#Key 7 WI SC State 7
#Key 8 WI SC State 8
#Key 9 WI SC State 9

#DestroyFunc GroupFunc
#AddToFunc GroupFunc I Layer 1
#+ I MoveToPage
#+ I Iconify off
#+ I Raise

#Key 0 A M All (State 0) GroupFunc
#Key 1 A M All (State 1) GroupFunc
#Key 2 A M All (State 2) GroupFunc
#Key 3 A M All (State 3) GroupFunc
#Key 4 A M All (State 4) GroupFunc
#Key 5 A M All (State 5) GroupFunc
#Key 6 A M All (State 6) GroupFunc
#Key 7 A M All (State 7) GroupFunc
#Key 8 A M All (State 8) GroupFunc
#Key 9 A M All (State 9) GroupFunc
####### End_1



####
# 鼠标设定
######
Mouse 1 R A Menu FuncMenu Nop
Mouse 3 R A Menu ConfMenu Nop
# 预留 Ctrl + Mouse 右键 实现Scroll 功能.


####
# 菜单 颜色
######
Colorset 7 fg Black, bg #e6e7d7, sh Black, hi #202070
Colorset 8 fg DarkRed, bg #e6e7d7, sh Black, hi #202070


####
# 菜单的风格
######
MenuStyle * MWM
MenuStyle * PopupDelayed, PopupDelay 160, Animation, TitleWarp
MenuStyle * Foreground gold, Background gray40
MenuStyle * ActiveFore White
MenuStyle * MenuFace VGradient 64 darkgray MidnightBlue
MenuStyle * Font "StringEncoding=UTF-8:xft:Droid Sans Fallback:pixelsize=14:antialias=True"
# MenuStyle * PopupOffset -5 100, TitleWarpOff
# MenuStyle * TitleUnderlines2, SeparatorsLong, TriangLesSolid
# MenuStyle * AnimationOff, AutomaticHotkeyOff
# MenuStyle * BorderWidth 2
# MenuStyle * PopupAsSubmenu, HoldSubmenus, SubmenusRight
# MenuStyle * ItemFormat "%|%5.5i%1.31%2.3>%|"
# MenuStyle * VerticalItemSpacing 1 1, VerticalTitleSpacing 2 2
# MenuStyle * MenuColorset 7
# MenuStyle * ActiveFore, Hilight3DOff
# MenuStyle * ActiveColorset 8


####
# 菜单内容
######
DestroyMenu FuncMenu
AddToMenu FuncMenu "%fcitx.png%=== 主菜单===" Title
+ "终端  - &Xterm%utilities-terminal.png%"  Exec exec uxterm
+ "浏览器- &Firefox%web-browser.png%"  Exec exec firefox
+ "浏览器- &Opera%opera-browser.png%"  Exec exec opera
+ "浏览器- &Chrome%google-chrome.png%"  Exec exec google-chrome
+ "播放器- X&BMC%xbmc/media/icon32x32.png%"  Exec exec xbmc
+ "文件库- &PCmanFM%system-file-manager.png%"  Exec exec pcmanfm
+ ""  Nop
+ "办公软件%libreoffice-writer.png%"   Popup OfficeMenu
+ "应用程序"   Popup ProgramsMenu
+ "工具"   Popup UtilitiesMenu
+ ""  Nop
+ "注销%application-exit.png%"   Quit
+ "重启%view-refresh.png%"   Exec exec sudo shutdown -r now
+ "关机"   Exec exec sudo shutdown -h now



####
# 按钮配置
######
*FvwmButtonsBack bisque3
*MainPanel: Geometry 120x18+2+2
*MainPanel: Back SeaGreen
*MainPanel: (Title "桌面 [Win+D]", Panel(down, indicator, delay 0, steps 1) \
	PagerPanel "Module FvwmButtons PagerPanel")
*MainPanel: Font "StringEncoding=UTF-8:xft:Droid Sans Fallback:pixelsize=10:antalias=True"
*PagerPanel: Geometry 120x352
*PagerPanel: (Swallow FvwmPager "Module FvwmPager 0 2")
*PagerPanelBack #908090
*PagerPanelFore #484048
*PagerPanel: Font "StringEncoding=UTF-8:xft:Droid Sans Fallback:pixelsize=10:antialias=True"


# Module FvwmButtons MainPanel


####
# 工具栏
######
Style FvwmTaskBar HandleWidth 0, BorderWidth 0
*FvwmTaskBar: UseSkipList
*FvwmTaskBar: AutoStick
*FvwmTaskBar: DeskOnly
*FvwmTaskBar: Action Click1 DeiconifyRaiseAndFocus
*FvwmTaskBar: Action Click2 Iconify On
*FvwmTaskBar: Action Click3 Lower
*FvwmTaskBar: MailCommand Exec exec uxtrem -e mutt
*FvwmTaskBar: 3DFvwm
*FvwmTaskBar: StartName FVWM
*FvwmTaskBar: StartMenu FuncMenu
*FvwmTaskBar: Font 
*FvwmTaskBar: SelFont 
*FvwmTaskBar: ShowTips
*FvwmTaskBar: ClockFormat
*FvwmTaskBar: windowButtionsRightMargin 20
*FvwmTaskBar: Back seagreen
*FvwmTaskBar: Fore gold2
*FvwmTaskBar: FocusFore cornsilk
*FvwmTaskBar: IconBack darkgreen
*FvwmTaskBar: IconFore white
